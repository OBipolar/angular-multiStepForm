"use strict";var app=angular.module("angularMsfApp",["ngAnimate","ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("form",{url:"/form",templateUrl:"views/form.html",controller:"formCtrl"}).state("form.A",{url:"/viewA",templateUrl:"views/form-viewA.html"}).state("form.B",{url:"/viewB",templateUrl:"views/form-viewB.html"}).state("form.C",{url:"/viewC",templateUrl:"views/form-viewC.html"}),b.otherwise("/form/viewA")}]),app.run(["$rootScope",function(a){a.$on("$stateChangeStart",function(){console.log("stateChangeStart"),a.db=a.updatedb,console.log("db update")}),a.$on("$stateChangeSuccess",function(){console.log("stateChangeSuccess")})}]),app.controller("formCtrl",["$scope","$http","$state","$rootScope",function($scope,$http,$state,$rootScope){$rootScope.formData={},$scope.$state=$state,$http.get("data.json").success(function(a){$rootScope.db=a}),$scope.next=function(data){$rootScope.olddb=$rootScope.db,$rootScope.updatedb=eval("("+data+")").next,$rootScope.answer=eval("("+data+")").answer,console.log("next function runs")},$scope.prev=function(){$rootScope.updatedb=$rootScope.olddb,console.log("prev function runs")}}]),app.directive("loadbar",["$rootScope",function(a){return{link:function(b,c){c.addClass("hide"),a.$on("$stateChangeStart",function(){c.removeClass("hide"),console.log("show the load bar")}),a.$on("$stateChangeSuccess",function(){c.addClass("hide"),console.log("remove the load bar")})}}}]);